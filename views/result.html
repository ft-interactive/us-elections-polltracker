{% extends "results-layout.html" %}
{% block content %}

<div>
    <h2>President</h2>
    CLINTON: {{ result.ecTotals.d }},
    TRUMP: {{ result.ecTotals.r }}
    <p>TOTAL: {{result.ecTotals.r + result.ecTotals.d}}/{{ result.ecTotals.total }}</p>
    <div>{{ barLayout }}</div>


    <div>
        {% include "includes/results-dot-map.svg" %}
    </div>
</div>
<div>
    <h2>House</h2>
    <div>{{ houseBarLayout }}</div>
    Dem {{ result.house.current.dem }} Rep {{ result.house.current.rep }}    
</div>
<div>
    <h2>Senate</h2>
    <div>{{ senateBarLayout }}</div>
    Dem {{ result.senate.current.dem }} (+{{ result.senate.current.dem - result.senate.initial.dem }}) Rep {{ result.senate.current.rep }} (+{{ result.senate.current.rep - result.senate.initial.rep }})
</div>
<div>
    <h2>Electoral college detail</h2>
    <table class="ecresultslist">
    <thead>
    <tr>
        <th class="ecresultslist__headercell">2012</th>
        <th class="ecresultslist__headercell">2016</th>
        <th class="ecresultslist__headercell">State</th>
        <th class="ecresultslist__headercell">Votes</th>
        <th class="ecresultslist__headercell--optional">Margin</th>
    </tr>
    </thead>
    <tbody>
    {% for state in result.electoralCollege %}
    <tr>
        <td class="ecresultslist__cell--{{ state.code | winner2012 }}"></td>
        <td class="ecresultslist__cell--{% if state.winner == 'r' %}rep{% endif %}{% if state.winner == 'd' %}dem{% endif %}">{% if state.winner == 'r' %} Trump {% endif %} {% if state.winner == 'd' %}Clinton{% endif %}</td>
        <td class="ecresultslist__cell">{{ state.code | stateName }}</td>
        <td class="ecresultslist__cell">{{ state.ecvotes }}</td>
        <td class="ecresultslist__cell"></td>
    </tr>
    {% endfor %}
    </tbody>
    </table>
</div>
{% endblock %}